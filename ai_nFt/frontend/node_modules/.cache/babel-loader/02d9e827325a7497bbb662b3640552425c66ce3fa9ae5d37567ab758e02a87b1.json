{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createUpdateRateInterestBearingMintInstruction = exports.createInitializeInterestBearingMintInstruction = exports.interestBearingMintUpdateRateInstructionData = exports.interestBearingMintInitializeInstructionData = exports.InterestBearingMintInstruction = void 0;\nconst buffer_layout_1 = require(\"@solana/buffer-layout\");\nconst buffer_layout_utils_1 = require(\"@solana/buffer-layout-utils\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst constants_js_1 = require(\"../../constants.js\");\nconst internal_js_1 = require(\"../../instructions/internal.js\");\nconst types_js_1 = require(\"../../instructions/types.js\");\nvar InterestBearingMintInstruction;\n(function (InterestBearingMintInstruction) {\n  InterestBearingMintInstruction[InterestBearingMintInstruction[\"Initialize\"] = 0] = \"Initialize\";\n  InterestBearingMintInstruction[InterestBearingMintInstruction[\"UpdateRate\"] = 1] = \"UpdateRate\";\n})(InterestBearingMintInstruction || (exports.InterestBearingMintInstruction = InterestBearingMintInstruction = {}));\nexports.interestBearingMintInitializeInstructionData = (0, buffer_layout_1.struct)([(0, buffer_layout_1.u8)('instruction'), (0, buffer_layout_1.u8)('interestBearingMintInstruction'),\n// TODO: Make this an optional public key\n(0, buffer_layout_utils_1.publicKey)('rateAuthority'), (0, buffer_layout_1.s16)('rate')]);\nexports.interestBearingMintUpdateRateInstructionData = (0, buffer_layout_1.struct)([(0, buffer_layout_1.u8)('instruction'), (0, buffer_layout_1.u8)('interestBearingMintInstruction'), (0, buffer_layout_1.s16)('rate')]);\n/**\n * Construct an InitializeInterestBearingMint instruction\n *\n * @param mint           Mint to initialize\n * @param rateAuthority  The public key for the account that can update the rate\n * @param rate           The initial interest rate\n * @param programId      SPL Token program account\n *\n * @return Instruction to add to a transaction\n */\nfunction createInitializeInterestBearingMintInstruction(mint, rateAuthority, rate, programId = constants_js_1.TOKEN_2022_PROGRAM_ID) {\n  const keys = [{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }];\n  const data = Buffer.alloc(exports.interestBearingMintInitializeInstructionData.span);\n  exports.interestBearingMintInitializeInstructionData.encode({\n    instruction: types_js_1.TokenInstruction.InterestBearingMintExtension,\n    interestBearingMintInstruction: InterestBearingMintInstruction.Initialize,\n    rateAuthority,\n    rate\n  }, data);\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    programId,\n    data\n  });\n}\nexports.createInitializeInterestBearingMintInstruction = createInitializeInterestBearingMintInstruction;\n/**\n * Construct an UpdateRateInterestBearingMint instruction\n *\n * @param mint           Mint to initialize\n * @param rateAuthority  The public key for the account that can update the rate\n * @param rate           The updated interest rate\n * @param multiSigners   Signing accounts if `rateAuthority` is a multisig\n * @param programId      SPL Token program account\n *\n * @return Instruction to add to a transaction\n */\nfunction createUpdateRateInterestBearingMintInstruction(mint, rateAuthority, rate, multiSigners = [], programId = constants_js_1.TOKEN_2022_PROGRAM_ID) {\n  const keys = (0, internal_js_1.addSigners)([{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: rateAuthority,\n    isSigner: !multiSigners.length,\n    isWritable: false\n  }], rateAuthority, multiSigners);\n  const data = Buffer.alloc(exports.interestBearingMintUpdateRateInstructionData.span);\n  exports.interestBearingMintUpdateRateInstructionData.encode({\n    instruction: types_js_1.TokenInstruction.InterestBearingMintExtension,\n    interestBearingMintInstruction: InterestBearingMintInstruction.UpdateRate,\n    rate\n  }, data);\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    programId,\n    data\n  });\n}\nexports.createUpdateRateInterestBearingMintInstruction = createUpdateRateInterestBearingMintInstruction;\n//# sourceMappingURL=instructions.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}