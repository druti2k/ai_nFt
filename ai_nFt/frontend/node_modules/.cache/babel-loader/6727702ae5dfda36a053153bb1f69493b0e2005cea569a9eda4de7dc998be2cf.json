{"ast":null,"code":"import { Transaction } from '@solana/web3.js';\nimport { TOKEN_PROGRAM_ID } from '../constants.js';\nimport { createAmountToUiAmountInstruction } from '../instructions/amountToUiAmount.js';\n/**\n * Amount as a string using mint-prescribed decimals\n *\n * @param connection     Connection to use\n * @param payer          Payer of the transaction fees\n * @param mint           Mint for the account\n * @param amount         Amount of tokens to be converted to Ui Amount\n * @param programId      SPL Token program account\n *\n * @return Ui Amount generated\n */\nexport async function amountToUiAmount(connection, payer, mint, amount, programId = TOKEN_PROGRAM_ID) {\n  const transaction = new Transaction().add(createAmountToUiAmountInstruction(mint, amount, programId));\n  const {\n    returnData,\n    err\n  } = (await connection.simulateTransaction(transaction, [payer], false)).value;\n  if (returnData?.data) {\n    return Buffer.from(returnData.data[0], returnData.data[1]).toString('utf-8');\n  }\n  return err;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}